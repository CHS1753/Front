<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>todos</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    #app {width: 500px; margin: 0 auto;}
  </style>
</head>
<body>
  <div id="app">
    <h1>My ToDo</h1>
    <div class="mt-4 mb-3">
      <label class="form-label">할 일 :</label>
      <input class="form-control" type="text" id="title">

    </div>
    <div class="d-grid">
      <button type="button" onclick="add()" class="btn btn-outline-primary btn-block">추 가</button>
    </div>
    <table class="table table-hover mt-5">
      <thead>
        <th>번호</th>
        <th>할일</th>
        <th>언제까지</th>
      </thead>
      <tbody id="tbody">
      </tbody>
    </table>
  </div>
  <script>
    const todos = [];
    const $title = document.getElementById('title');
    const $tbody = document.getElementById('tbody');
    let tno = 1;

    function add() {

      const title = $title.value;
      if(title==='') {
        return;
      }
      todos.push({tno, title});
      console.log(todos);
      tno++;
      $title.value="";
      $push();
    }
    
    function $push() {
      let html =""
      for (const $todo of todos) {
        html += `<tr>
          <td>${$todo.tno}</td>
          <td>${$todo.title}</td>
          <td><button class="btn btn-danger" onclick="del(${$todo.tno})">지우기</button></td>
            </tr>`;
          }
      $tbody.innerHTML=html;

    }
    function del(tno) {
      for(let i=0; i<todos.length; i++) {
        console.log(tno, i)


        if(todos[i].tno===tno) {
          alert(i)
          todos.splice(i,1);
          break;
        }
      }
      $push();
    }
  </script>
</body>
</html>